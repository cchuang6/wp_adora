!function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t){t.exports=Backbone.Router.extend({routes:{"":"home"},initialize:function(){},home:function(){this.navigate(UT.sections.first().get("slug"),!0)}})},{}],2:[function(e,t){var i=e("./../models/Field");t.exports=Backbone.Collection.extend({model:i})},{"./../models/Field":24}],3:[function(e,t){var i=e("./../models/Section");t.exports=Backbone.Collection.extend({model:i,initialize:function(){_.bindAll(this,"add")},setActive:function(e){var t=this;t.forEach(function(i){if(i==e){var n=i.get("parent_id"),o=i.get("id");if(n>0){var s=t.where({id:n}).shift();s.set("showChilds",!0)}else o>0&&t.where({parent_id:o}).length&&i.set("showChilds",!0);i.set("isActive",!0),i.trigger("activate")}else i.set("showChilds",!1),i.set("isActive",!1)})}},{createFromJSON:function(e){return new this(e)}})},{"./../models/Section":25}],4:[function(e,t){var i=e("./../models/Tweak");t.exports=Backbone.Collection.extend({model:i},{createFromJSON:function(e){return new this(_.map(e,function(e,t){return _.extend(e,{id:t})}))}})},{"./../models/Tweak":26}],5:[function(e,t){var i=e("./../models/Value");t.exports=Backbone.Collection.extend({model:i,isDirty:!1,initialize:function(){},getValue:function(e){var t=UT.currentRole;return this.get(t).get(e)},setValue:function(e,t){var i=UT.currentRole,n=this.get(i);n.get(e)!=t&&(UT.debug&&console.log("set",e,t),t?(1==t&&(t=1),n.set(e,t)):n.unset(e))}},{createFromJSON:function(e,t){return new this(t.map(function(t){return _.extend(e[t.id]||{},{role:t.id})}))}})},{"./../models/Value":27}],6:[function(e){e("./vendor/jquery.mousewheel"),e("./vendor/jquery.cookie"),e("./vendor/jquery.storageapi"),e("./vendor/toastr"),e("./vendor/nprogress");var t=e("./Router"),i=e("./views/App"),n=e("./collections/Values"),o=e("./collections/Sections"),s=e("./collections/Tweaks");UT.debug&&console.log("LOADED VALUES",UT.values),UT.currentRole="",UT.roles=new Backbone.Collection(UT.roles),UT.values=n.createFromJSON(UT.values,UT.roles),console.log(Object.keys(UT.sections).length),UT.sections=o.createFromJSON(UT.sections),UT.tweaks=s.createFromJSON(UT.tweaks),UT.tweak_groups=new Backbone.Collection(_.map(UT.tweak_groups,function(e,t){return e.id=t,e})),Backbone.$(function(){var e=new t;UT.app=new i({el:Backbone.$("#wpas_panel"),router:e}),Backbone.history.start(),toastr.options.closeButton=!0,toastr.options.newestOnTop=!1,toastr.options.showMethod="slideDown",toastr.options.hideMethod="slideUp",toastr.options.preventDuplicates=!0,NProgress.configure({trickleRate:.02,trickleSpeed:100,parent:"#wpas_panel .wpas_container"})})},{"./Router":1,"./collections/Sections":3,"./collections/Tweaks":4,"./collections/Values":5,"./vendor/jquery.cookie":28,"./vendor/jquery.mousewheel":29,"./vendor/jquery.storageapi":30,"./vendor/nprogress":31,"./vendor/toastr":32,"./views/App":33}],7:[function(e,t){var i=e("./../fields/Text");t.exports=i.extend({itemTpl:_.template('<label for="<%= id %>"><input type="checkbox" id="<%= id %>" class="checkbox" value="<%= key %>"> <%= label %></label>'),events:{"change input":"change"},render:function(){var e=this,t=e.model.get("options");return e.$el.empty(),Backbone.$.each(t,function(t,i){var n=e.model.get("id")+"_"+t;e.$el.append(e.itemTpl({id:n,key:t,label:i}))}),this},setValue:function(e){var t=this;_.each(e,function(e,i){e&&t.$el.find('[value="'+i+'"]').prop("checked",!0).trigger("change",!0)})},change:function(e,t){var i=this;if(!t){var n={};i.$el.find(":checked").each(function(){n[this.value]=1}),i.trigger("change",i.model.id,n)}}})},{"./../fields/Text":21}],8:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<input class="wpas_field_input" />'),events:{"change .wpas_field_input":"change"},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$input=e.$el.find(".wpas_field_input"),e.$input.wpColorPicker({palettes:!0,change:function(t,i){var n=i.color.toCSS();e.$input.val()!=n&&e.trigger("change",e.model.id,n)},clear:function(){e.trigger("change",e.model.id,!1)}}),this},setValue:function(e){this.$input.val(e).trigger("change",!0)},change:function(e,t){var i=this;!t&&i.trigger("change",i.model.id,i.$input.val())}})},{}],9:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<label>Width</label><input class="wpas_field_width" type="number" /><label>Height</label><input class="wpas_field_height" type="number" />'),events:{"change .wpas_field_width":"change","change .wpas_field_height":"change"},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$inputWidth=e.$el.find(".wpas_field_width"),e.$inputHeight=e.$el.find(".wpas_field_height"),this},setValue:function(e){this.$inputWidth.val(parseInt(e.width)),this.$inputHeight.val(parseInt(e.height)).trigger("change",!0)},change:function(e,t){var i=this;!t&&i.trigger("change",i.model.id,{width:i.$inputWidth.val(),height:i.$inputHeight.val()})}})},{}],10:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<div class="wpas_field_info_body"><%= desc %></div>'),events:{"change .wpas_field_input":"change"},initialize:function(e){e.fieldBody.$container=e.fieldBody.$el,e.fieldBody.$container.empty()},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),this},setValue:function(){},change:function(){}})},{}],11:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template("<%= html %>"),events:{},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),this},setValue:function(){},change:function(){}})},{}],12:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<div class="wpas_image"></div><a class="wpas_button wpas_button_upload left">Upload</a><a class="wpas_button wpas_button_select left">Select</a><a class="wpas_button wpas_button_url left">URL</a><a class="wpas_button wpas_button_clear left">Clear</a>'),events:{"click .wpas_button_upload":"upload","click .wpas_button_select":"select","click .wpas_button_url":"url","click .wpas_button_clear":"clear"},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$image=e.$el.find(".wpas_image"),e.$uploadButton=e.$el.find(".wpas_button_upload"),e.$clearButton=e.$el.find(".wpas_button_clear"),e.$clearButton.hide(),this},select:function(e){this.upload(e,!0)},upload:function(e,t){var i=this,n=i["frame"+(t?"upload":"select")];return wp.media.controller.Library.prototype.defaults.contentUserSetting=t,n?void n.open():(n=wp.media({title:"Select Image",button:{text:"Select"},library:{type:"image"},multiple:!1}),n.on("select",function(e){var t=n.state().get("selection").first().toJSON(),o={id:t.id,url:t.url};t.sizes.full&&(o.width=t.sizes.full.width,o.height=t.sizes.full.height,t.sizes.thumbnail||(t.sizes.thumbnail=t.sizes.full)),t.sizes.thumbnail&&(o.thumbnail=t.sizes.thumbnail.url),i.change(e,!1,o),i.setValue(o)}),n.open(),void(i["frame"+(t?"upload":"select")]=n))},url:function(e){var t=this,i=UT.values.getValue(t.model.id),n=prompt("Please, enter url of your image...",i?i.url:"");if(n){var o={id:null,url:n,thumbnail:n};t.change(e,!1,o),t.setValue(o)}},clear:function(e){var t=this;t.setValue(!1),t.change(e,!1,!1)},setValue:function(e){var t=this;t.$image.empty().hide(),e&&_.isObject(e)?(t.$image.append(Backbone.$("<img/>",{src:e.thumbnail})).show(),t.$clearButton.show()):t.$clearButton.hide()},change:function(e,t,i){var n=this;!t&&n.trigger("change",n.model.id,i)}})},{}],13:[function(e,t){t.exports=Backbone.View.extend({itemTpl:_.template('<label for="<%= id %>"><input type="checkbox" id="<%= id %>" class="checkbox" value="<%= key %>"> <%= label %></label>'),events:{"change input":"change"},render:function(){var e=this,t=Backbone.$,i=(e.model.get("options"),e.model.get("post_type"));return e.$el.addClass("wpas_field_checkbox"),e.$el.empty(),t.ajax({type:"post",url:e.model.get("post_url")+"?post_type="+i,data:{action:"ut_metabox_hide_get",_ajax_nonce:e.model.get("nonce")},beforeSend:function(){e.$el.html('<div class="ut_spinner" role="spinner"><div class="spinner-icon"></div></div>')},success:function(t){if(e.$el.empty(),t&&t.meta_boxes){_.each(t.meta_boxes,function(t){t.id=e.model.id+"_"+i+"_"+t.key,e.$el.append(e.itemTpl(t))});var n=UT.values.getValue(e.model.id);_.each(n,function(t,i){e.$el.find('[value="'+i+'"]').prop("checked",!0)})}}}),this},setValue:function(e){var t=this;(e||_.isObject(e))&&(t.$el.find('[type="checkbox"]').prop("checked",!1),_.each(e,function(e,i){t.$el.find('[value="'+i+'"]').prop("checked",!0)}))},change:function(e,t){var i=this;if(!t){var n={};i.$el.find(":checked").each(function(){n[this.value]=1}),i.trigger("change",i.model.id,n)}}})},{}],14:[function(e,t){var i=e("./../fields/Text");t.exports=i.extend({itemTpl:_.template('<label for="<%= id %>"><input type="radio" id="<%= id %>" name="<%= key %>" class="checkbox" value="<%= value %>"> <%= label %></label>'),events:{"change input":"change"},render:function(){var e=this,t=e.model.get("options");return e.$el.empty(),Backbone.$.each(t,function(t,i){var n=e.model.get("id")+"_"+t;e.$el.append(e.itemTpl({key:e.model.id,id:n,value:t,label:i}))}),this},setValue:function(e){this.$el.find('[value="'+e+'"]').prop("checked",!0).trigger("change",!0)},change:function(e,t){var i=this;!t&&i.trigger("change",i.model.id,i.$el.find(":checked").val())}})},{"./../fields/Text":21}],15:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<div class="wpas_field_info_body"><%= content %></div>'),events:{"change .wpas_field_input":"change"},initialize:function(e){e.fieldBody.$container=e.fieldBody.$el,e.fieldBody.$container.empty()},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),this},setValue:function(){},change:function(){}})},{}],16:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<div class="wpas_field_info_body"><%= title %></div>'),events:{"change .wpas_field_input":"change"},initialize:function(e){e.fieldBody.$container=e.fieldBody.$el,e.fieldBody.$container.empty()},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),this},setValue:function(){},change:function(){}})},{}],17:[function(e,t){var i=e("./../fields/Text");t.exports=i.extend({selectTpl:_.template("<select><% _.each(options, function(v, k) { %><option value=\"<%= k %>\" <%= value == k ? 'selected' : void 0 %>><%= v %></option><% }); %></select>"),events:{"change select":"change"},render:function(){var e,t=this,i=t.model.get("options");return t.$el.empty(),t.$el.append(t.selectTpl({options:i,value:e})),t.$select=t.$el.find("select"),t.$select.select2({placeholder:"None",allowClear:!0,closeOnSelect:!t.model.get("multi"),multiple:t.model.get("multi"),minimumResultsForSearch:-1,width:300}),this},setValue:function(e){var t=this;e||(e=""),t.$select.val(e).trigger("change",!0)},change:function(e,t){var i=this;t||i.trigger("change",i.model.id,i.$select.val())}})},{"./../fields/Text":21}],18:[function(e,t){var i=e("./../fields/Text");t.exports=i.extend({tpl:_.template('<input class="wpas_field_input"/><a class="wpas_field_slider_steper wpas_field_slider_up" tabindex="-1" data-step="1"><span>▲</span></a><a class="wpas_field_slider_steper wpas_field_slider_down" tabindex="-1" data-step="-1"><span>▼</span></a>'),events:{"change .wpas_field_input":"change","mousedown .wpas_field_slider_steper":"mouseDown","mouseup .wpas_field_slider_steper":"mouseUp","mousewheel .wpas_field_input":"mousewheel"},initialize:function(){var e=this;e.timerDelay=250},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$input=e.$el.find(".wpas_field_input"),this},mousewheel:function(e){var t=this;e.preventDefault(),t.increase(e.deltaY)},mouseDown:function(e){var t=this,i=Backbone.$(e.target),n=1;t.timer&&clearTimeout(t.timer),i.is(".wpas_field_slider_steper")||(i=i.closest(".wpas_field_slider_steper")),n=parseInt(i.data("step")),t.increase(n);var o=function(){t.timer=setTimeout(function(){t.timer&&(t.timerDelay>30&&(t.timerDelay/=1.2),t.increase(n),o())},t.timerDelay)};o()},mouseUp:function(){var e=this;e.timer&&clearTimeout(e.timer),e.timerDelay=250},increase:function(e){var t=this,i=parseInt(t.$input.val()),n=t.model.get("min"),o=t.model.get("max");e=e||1,i||(i=0),i+=e*t.model.get("step"),null!==i&&i>o&&(i=o),null!==i&&n>i&&(i=n),t.$input.val(i).trigger("change")}})},{"./../fields/Text":21}],19:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<label>Left</label><input class="wpas_field_left" type="number" /><label>Right</label><input class="wpas_field_right" type="number" /><label>Top</label><input class="wpas_field_top" type="number" /><label>Bottom</label><input class="wpas_field_bottom" type="number" />'),events:{"change .wpas_field_left":"change","change .wpas_field_right":"change","change .wpas_field_top":"change","change .wpas_field_bottom":"change"},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$inputLeft=e.$el.find(".wpas_field_left"),e.$inputRight=e.$el.find(".wpas_field_right"),e.$inputTop=e.$el.find(".wpas_field_top"),e.$inputBottom=e.$el.find(".wpas_field_bottom"),this},setValue:function(e){this.$inputLeft.val(parseInt(e["padding-left"])),this.$inputRight.val(parseInt(e["padding-right"])),this.$inputTop.val(parseInt(e["padding-top"])),this.$inputBottom.val(parseInt(e["padding-bottom"])).trigger("change",!0)},change:function(e,t){var i=this;!t&&i.trigger("change",i.model.id,{"padding-left":i.$inputLeft.val(),"padding-right":i.$inputRight.val(),"padding-top":i.$inputTop.val(),"padding-bottom":i.$inputBottom.val()})}})},{}],20:[function(e,t){var i=e("./../fields/Text");t.exports=i.extend({tpl:_.template('<span class="switchery"><small></small></span><% if (typeof(on_desc) !== "undefined" && on_desc) { %><div class="wpas_field_on_desc"><%= on_desc %></div><% } %><% if (typeof(off_desc) !== "undefined" && off_desc) { %><div class="wpas_field_off_desc"><%= off_desc %></div><% } %>'),events:{"click .switchery":"click"},initialize:function(){var e=this;!e.model.get("off_desc")&&e.model.set("off_desc","Off"),!e.model.get("on_desc")&&e.model.set("on_desc","On")},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$span=e.$el.find(".switchery"),e.$onDesc=e.$el.find(".wpas_field_on_desc"),e.$offDesc=e.$el.find(".wpas_field_off_desc"),this},setValue:function(e){var t=this;t.$span.toggleClass("checked",!!e),t.change(!0)},click:function(){var e=this;e.$span.toggleClass("checked"),e.change(!1)},change:function(e){var t=this,i=t.$span.hasClass("checked");t.$onDesc.toggleClass("show",i),t.$offDesc.toggleClass("show",!i),!e&&t.trigger("change",t.model.id,i)}})},{"./../fields/Text":21}],21:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<input class="wpas_field_input" />'),events:{"change .wpas_field_input":"change","keyup .wpas_field_input":"change"},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$input=e.$el.find(".wpas_field_input"),e.model.get("placeholder")&&e.$input.prop("placeholder",e.model.get("placeholder")),this},setValue:function(e){_.isObject(e)&&(e=JSON.stringify(e)),this.$input.val(e).trigger("change",!0)},change:function(e,t){var i=this;!t&&i.trigger("change",i.model.id,i.$input.val())}})},{}],22:[function(e,t){var i=e("./../fields/Text");t.exports=i.extend({tpl:_.template("<textarea></textarea>"),events:{"change textarea":"change","keyup textarea":"change"},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$input=e.$el.find("textarea"),e.model.get("placeholder")&&e.$input.prop("placeholder",e.model.get("placeholder")),this}})},{"./../fields/Text":21}],23:[function(e,t){t.exports=Backbone.View.extend({className:"wpas_field_div",tpl:_.template('<div class="lines"></div><a class="add_more wpas_button left">Add More</a>'),lineTpl:_.template('<div class="line"><input class="from" value="<%= b %>" /><span> to </span><input class="to" value="<%= a %>" /><a class="remove" href="javascript:void(0)">Remove</a></div>'),events:{"click .add_more":"add","change input":"change","keyup input":"change","click .remove":"remove"},initialize:function(){},render:function(){var e=this;return e.$el.html(e.tpl(e.model.attributes)),e.$lines=e.$el.find(".lines"),this},add:function(){var e=this,t=Backbone.$,i=t(e.lineTpl({a:"",b:""}));e.$lines.append(i),i.find(".from").focus()},remove:function(e){e.preventDefault();var t=this,i=Backbone.$,n=i(e.currentTarget).closest(".line");n.remove(),t.change(e)},setValue:function(e){var t=this;t.$lines.empty(),_.each(e,function(e){t.$lines.append(t.lineTpl(e))}),this.trigger("change",!0)},change:function(e,t){var i=this,n=Backbone.$;if(!t){var o=[];i.$lines.find(".line").each(function(){var e=n(this),t=e.find(".from").val(),i=e.find(".to").val();o.push({b:t,a:i})}),i.trigger("change",i.model.id,o)}}})},{}],24:[function(e,t){var i=e("./../views/Field");t.exports=Backbone.Model.extend({defaults:{id:null,title:"","default":""},getView:function(e){var t=this;return t.view&&t.view.remove(),t.view=new i(_.extend(e,{model:t})),t.view.render(),t.view}})},{"./../views/Field":34}],25:[function(e,t){var i=e("./../collections/Tweaks");t.exports=Backbone.Model.extend({idAttribute:"_id",defaults:{slug:null,title:"",id:null,parent_id:0,isActive:!1,isHidden:!1,showChilds:!1},initialize:function(){{var e=this;e.get("id")}},haveChilds:function(){var e=this,t=e.get("id"),i=!1;return t>0&&(i=e.collection.where({parent_id:t}).length),i},getTweaks:function(){var e=this,t=e.get("tweaks");return t=_.map(t,function(e){return UT.tweaks.get(e)},UT.tweaks),new i(t)}})},{"./../collections/Tweaks":4}],26:[function(e,t){var i=e("./../collections/Fields");t.exports=Backbone.Model.extend({defaults:{id:null,title:null,group:"",fields:[]},initialize:function(){var e=this;e.set("fields",new i(e.get("fields")))},getFields:function(){return this.get("fields")}})},{"./../collections/Fields":2}],27:[function(e,t){t.exports=Backbone.Model.extend({idAttribute:"role"})},{}],28:[function(){!function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function i(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):String(e))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),r.json?JSON.parse(e):e}catch(t){}}function s(t,i){var n=r.raw?t:o(t);return e.isFunction(i)?i(n):n}var a=/\+/g,r=e.cookie=function(o,a,l){if(arguments.length>1&&!e.isFunction(a)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[t(o),"=",n(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=o?void 0:{},p=document.cookie?document.cookie.split("; "):[],f=0,h=p.length;h>f;f++){var g=p[f].split("="),m=i(g.shift()),v=g.join("=");if(o&&o===m){u=s(v,a);break}o||void 0===(v=s(v))||(u[m]=v)}return u};r.defaults={},e.removeCookie=function(t,i){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}}(jQuery)},{}],29:[function(){!function(e){function t(t){var a=t||window.event,r=l.call(arguments,1),c=0,u=0,p=0,f=0,h=0,g=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*p,p=0),c=0===p?u:p,"deltaY"in a&&(p=-1*a.deltaY,c=p),"deltaX"in a&&(u=a.deltaX,0===p&&(c=-1*u)),0!==p||0!==u){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,p*=m,u*=m}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,p*=v,u*=v}if(f=Math.max(Math.abs(p),Math.abs(u)),(!s||s>f)&&(s=f,n(a,f)&&(s/=40)),n(a,f)&&(c/=40,u/=40,p/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),p=Math[p>=1?"floor":"ceil"](p/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();h=t.clientX-w.left,g=t.clientY-w.top}return t.deltaX=u,t.deltaY=p,t.deltaFactor=s,t.offsetX=h,t.offsetY=g,t.deltaMode=0,r.unshift(t,c,u,p),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function i(){s=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery)},{}],30:[function(){!function(e){function t(t){var i,n,o,s=arguments.length,a=window[t],r=arguments,l=r[1];if(2>s)throw new Error("Minimum 2 arguments must be given");if(e.isArray(l)){n={};for(var c in l){i=l[c];try{n[i]=JSON.parse(a.getItem(i))}catch(d){n[i]=a.getItem(i)}}return n}if(2!=s){try{n=JSON.parse(a.getItem(l))}catch(d){throw new ReferenceError(l+" is not defined in this storage")}for(var c=2;s-1>c;c++)if(n=n[r[c]],void 0===n)throw new ReferenceError([].slice.call(r,1,c+1).join(".")+" is not defined in this storage");if(e.isArray(r[c])){o=n,n={};for(var u in r[c])n[r[c][u]]=o[r[c][u]];return n}return n[r[c]]}try{return JSON.parse(a.getItem(l))}catch(d){return a.getItem(l)}}function i(t){var i,n,o=arguments.length,s=window[t],a=arguments,r=a[1],l=a[2],c={};if(2>o||!e.isPlainObject(r)&&3>o)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(r)){for(var d in r)i=r[d],e.isPlainObject(i)?s.setItem(d,JSON.stringify(i)):s.setItem(d,i);return r}if(3==o)return"object"==typeof l?s.setItem(r,JSON.stringify(l)):s.setItem(r,l),l;try{n=s.getItem(r),null!=n&&(c=JSON.parse(n))}catch(u){}n=c;for(var d=2;o-2>d;d++)i=a[d],n[i]&&e.isPlainObject(n[i])||(n[i]={}),n=n[i];return n[a[d]]=a[d+1],s.setItem(r,JSON.stringify(c)),c}function n(t){var i,n,o=arguments.length,s=window[t],a=arguments,r=a[1];if(2>o)throw new Error("Minimum 2 arguments must be given");if(e.isArray(r)){for(var l in r)s.removeItem(r[l]);return!0}if(2==o)return s.removeItem(r),!0;try{i=n=JSON.parse(s.getItem(r))}catch(c){throw new ReferenceError(r+" is not defined in this storage")}for(var l=2;o-1>l;l++)if(n=n[a[l]],void 0===n)throw new ReferenceError([].slice.call(a,1,l).join(".")+" is not defined in this storage");if(e.isArray(a[l]))for(var d in a[l])delete n[a[l][d]];else delete n[a[l]];return s.setItem(r,JSON.stringify(i)),!0}function o(t,i){var o=r(t);for(var s in o)n(t,o[s]);if(i)for(var s in e.namespaceStorages)l(s)}function s(i){var n=arguments.length,o=arguments,a=(window[i],o[1]);if(1==n)return 0==r(i).length;if(e.isArray(a)){for(var l=0;l<a.length;l++)if(!s(i,a[l]))return!1;return!0}try{var c=t.apply(this,arguments);e.isArray(o[n-1])||(c={totest:c});for(var l in c)if(!(e.isPlainObject(c[l])&&e.isEmptyObject(c[l])||e.isArray(c[l])&&!c[l].length)&&c[l])return!1;return!0}catch(d){return!0}}function a(i){var n=arguments.length,o=arguments,s=(window[i],o[1]);if(2>n)throw new Error("Minimum 2 arguments must be given");if(e.isArray(s)){for(var r=0;r<s.length;r++)if(!a(i,s[r]))return!1;return!0}try{var l=t.apply(this,arguments);e.isArray(o[n-1])||(l={totest:l});for(var r in l)if(void 0===l[r]||null===l[r])return!1;return!0}catch(c){return!1}}function r(i){var n=arguments.length,o=window[i],s=arguments,a=(s[1],[]),r={};if(r=n>1?t.apply(this,s):o,r._cookie)for(var l in e.cookie())""!=l&&a.push(l.replace(r._prefix,""));else for(var c in r)a.push(c);return a}function l(t){if(!t||"string"!=typeof t)throw new Error("First parameter must be a string");p?(window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}")):(window.localCookieStorage.getItem(t)||window.localCookieStorage.setItem(t,"{}"),window.sessionCookieStorage.getItem(t)||window.sessionCookieStorage.setItem(t,"{}"));var i={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),i.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=i,i}function c(e){var t="jsapi";try{return window[e]?(window[e].setItem(t,t),window[e].removeItem(t),!0):!1}catch(i){return!1}}var d="ls_",u="ss_",p=c("localStorage"),f={_type:"",_ns:"",_callMethod:function(e,t){var i=[this._type],t=Array.prototype.slice.call(t),n=t[0];return this._ns&&i.push(this._ns),"string"==typeof n&&-1!==n.indexOf(".")&&(t.shift(),[].unshift.apply(t,n.split("."))),[].push.apply(i,t),e.apply(this,i)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,n=arguments,o=n[0];if(1>t||!e.isPlainObject(o)&&2>t)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(o)&&this._ns){for(var s in o)i(this._type,this._ns,s,o[s]);return o}var a=this._callMethod(i,n);return this._ns?a[o.split(".")[0]]:a},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(n,arguments)},removeAll:function(e){return this._ns?(i(this._type,this._ns,{}),!0):o(this._type,e)},isEmpty:function(){return this._callMethod(s,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(a,arguments)},keys:function(){return this._callMethod(r,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var h={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,i){e.cookie(this._prefix+t,i,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())""!=t&&(!this._prefix&&-1===t.indexOf(d)&&-1===t.indexOf(u)||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};p||(window.localCookieStorage=e.extend({},h,{_prefix:d,_expires:3650}),window.sessionCookieStorage=e.extend({},h,{_prefix:u+window.name+"_"})),window.cookieStorage=e.extend({},h),e.cookieStorage=e.extend({},f,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return l(e)},p?(e.localStorage=e.extend({},f,{_type:"localStorage"}),e.sessionStorage=e.extend({},f,{_type:"sessionStorage"})):(e.localStorage=e.extend({},f,{_type:"localCookieStorage"}),e.sessionStorage=e.extend({},f,{_type:"sessionCookieStorage"})),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}}(jQuery)},{}],31:[function(){!function(){function e(e,t,i){return t>e?t:e>i?i:e}function t(e){return 100*(-1+e)}function i(e,i,n){var o;return o="translate3d"===c.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},o.transition="all "+i+"ms "+n,o}function n(e,t){var i="string"==typeof e?e:a(e);return i.indexOf(" "+t+" ")>=0}function o(e,t){var i=a(e),o=i+t;n(i,t)||(e.className=o.substring(1))}function s(e,t){var i,o=a(e);n(e,t)&&(i=o.replace(" "+t+" "," "),e.className=i.substring(1,i.length-1))}function a(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function r(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l={};l.version="0.1.6";var c=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(e){var t,i;for(t in e)i=e[t],void 0!==i&&e.hasOwnProperty(t)&&(c[t]=i);return this},l.status=null,l.set=function(t){var n=l.isStarted();t=e(t,c.minimum,1),l.status=1===t?null:t;var o=l.render(!n),s=o.querySelector(c.barSelector),a=c.speed,r=c.easing;return o.offsetWidth,d(function(e){""===c.positionUsing&&(c.positionUsing=l.getPositioningCSS()),u(s,i(t,a,r)),1===t?(u(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout(function(){u(o,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){l.remove(),e()},a)},a)):setTimeout(e,a)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var e=function(){setTimeout(function(){l.status&&(l.trickle(),e())},c.trickleSpeed)};return c.trickle&&e(),this},l.done=function(e){return e||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(t){var i=l.status;return i?("number"!=typeof t&&(t=(1-i)*e(Math.random()*i,.1,.95)),i=e(i+t,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*c.trickleRate)},function(){var e=0,t=0;l.promise=function(i){return i&&"resolved"!=i.state()?(0==t&&l.start(),e++,t++,i.always(function(){t--,0==t?(e=0,l.done()):l.set((e-t)/e)}),this):this}}(),l.render=function(e){if(l.isRendered())return document.getElementById("nprogress");o(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=c.template;var n,s=i.querySelector(c.barSelector),a=e?"-100":t(l.status||0),d=document.querySelector(c.parent);return u(s,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),c.showSpinner||(n=i.querySelector(c.spinnerSelector),n&&r(n)),d!=document.body&&o(d,"nprogress-custom-parent"),d.appendChild(i),i},l.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(c.parent),"nprogress-custom-parent");
var e=document.getElementById("nprogress");e&&r(e)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var d=function(){function e(){var i=t.shift();i&&i(e)}var t=[];return function(i){t.push(i),1==t.length&&e()}}(),u=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var i,n=o.length,s=e.charAt(0).toUpperCase()+e.slice(1);n--;)if(i=o[n]+s,i in t)return i;return e}function i(i){return i=e(i),s[i]||(s[i]=t(i))}function n(e,t,n){t=i(t),e.style[t]=n}var o=["Webkit","O","Moz","ms"],s={};return function(e,t){var i,o,s=arguments;if(2==s.length)for(i in t)o=t[i],void 0!==o&&t.hasOwnProperty(i)&&n(e,i,o);else n(e,s[1],s[2])}}();window.NProgress=l}()},{}],32:[function(){!function(e){window.toastr=function(){function t(e,t,i){return h({type:y.error,iconClass:g().iconClasses.error,message:e,optionsOverride:i,title:t})}function i(t,i){return t||(t=g()),v=e("#"+t.containerId),v.length?v:(i&&(v=u(t)),v)}function n(e,t,i){return h({type:y.info,iconClass:g().iconClasses.info,message:e,optionsOverride:i,title:t})}function o(e){w=e}function s(e,t,i){return h({type:y.success,iconClass:g().iconClasses.success,message:e,optionsOverride:i,title:t})}function a(e,t,i){return h({type:y.warning,iconClass:g().iconClasses.warning,message:e,optionsOverride:i,title:t})}function r(e,t){var n=g();v||i(n),d(e,n,t)||c(n)}function l(t){var n=g();return v||i(n),t&&0===e(":focus",t).length?void m(t):void(v.children().length&&v.remove())}function c(t){for(var i=v.children(),n=i.length-1;n>=0;n--)d(e(i[n]),t)}function d(t,i,n){var o=n&&n.force?n.force:!1;return t&&(o||0===e(":focus",t).length)?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){m(t)}}),!0):!1}function u(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){w&&w(e)}function h(t){function n(){a(),l(),c(),d(),u(),r()}function o(){T.hover(y,w),!x.onclick&&x.tapToDismiss&&T.click(h),x.closeButton&&O&&O.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),h(!0)}),x.onclick&&T.click(function(){x.onclick(),h()})}function s(){T.hide(),T[x.showMethod]({duration:x.showDuration,easing:x.showEasing,complete:x.onShown}),x.timeOut>0&&(S=setTimeout(h,x.timeOut),D.maxHideTime=parseFloat(x.timeOut),D.hideEta=(new Date).getTime()+D.maxHideTime,x.progressBar&&(D.intervalId=setInterval(k,10)))}function a(){t.iconClass&&T.addClass(x.toastClass).addClass($)}function r(){x.newestOnTop?v.prepend(T):v.append(T)}function l(){t.title&&(C.append(t.title).addClass(x.titleClass),T.append(C))}function c(){t.message&&(B.append(t.message).addClass(x.messageClass),T.append(B))}function d(){x.closeButton&&(O.addClass("toast-close-button").attr("role","button"),T.prepend(O))}function u(){x.progressBar&&(U.addClass("toast-progress"),T.prepend(U))}function p(e,t){if(e.preventDuplicates){if(t.message===_)return!0;_=t.message}return!1}function h(t){return!e(":focus",T).length||t?(clearTimeout(D.intervalId),T[x.hideMethod]({duration:x.hideDuration,easing:x.hideEasing,complete:function(){m(T),x.onHidden&&"hidden"!==I.state&&x.onHidden(),I.state="hidden",I.endTime=new Date,f(I)}})):void 0}function w(){(x.timeOut>0||x.extendedTimeOut>0)&&(S=setTimeout(h,x.extendedTimeOut),D.maxHideTime=parseFloat(x.extendedTimeOut),D.hideEta=(new Date).getTime()+D.maxHideTime)}function y(){clearTimeout(S),D.hideEta=0,T.stop(!0,!0)[x.showMethod]({duration:x.showDuration,easing:x.showEasing})}function k(){var e=(D.hideEta-(new Date).getTime())/D.maxHideTime*100;U.width(e+"%")}var x=g(),$=t.iconClass||x.iconClass;if("undefined"!=typeof t.optionsOverride&&(x=e.extend(x,t.optionsOverride),$=t.optionsOverride.iconClass||$),!p(x,t)){b++,v=i(x,!0);var S=null,T=e("<div/>"),C=e("<div/>"),B=e("<div/>"),U=e("<div/>"),O=e(x.closeHtml),D={intervalId:null,hideEta:null,maxHideTime:null},I={toastId:b,state:"visible",startTime:new Date,options:x,map:t};return n(),s(),o(),f(I),x.debug&&console&&console.log(I),T}}function g(){return e.extend({},p(),k.options)}function m(e){v||(v=i()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),_=void 0))}var v,w,_,b=0,y={error:"error",info:"info",success:"success",warning:"warning"},k={clear:r,remove:l,error:t,getContainer:i,info:n,options:{},subscribe:o,success:s,version:"2.1.1",warning:a};return k}()}(jQuery)},{}],33:[function(e,t){var i=e("./../collections/Values"),n=e("./Section"),o=e("./SubSection");t.exports=Backbone.View.extend({events:{"click a.wpas_button_save":"save","click a.wpas_button_reset":"reset","click a.wpas_button_resetall":"resetAll","change .wpas_autosave input":"autoSaveInputChange","click a.ut_button_importexport":"importExport","click a.ut_button_support":"support"},initialize:function(e){var t=this,i=Backbone.$;t.storage=i.initNamespaceStorage("UT").localStorage,_.bindAll(t,"fixBottomBar"),t.saveDebounce=_.debounce(t.save,500),t.router=e.router,t.$window=i(window),t.$panel=i("#wpas_panel"),t.$container=t.$panel.find(".wpas_container"),t.$sections=t.$container.find(".wpas_sections"),t.$sectionsUl=t.$sections.find("ul"),t.$bottomBar=t.$panel.find(".wpas_bottom"),t.$saveButton=t.$bottomBar.find(".wpas_button_save"),t.storage.get("optionAutoSave")&&(t.$panel.find(".wpas_autosave input").prop("checked",!0),t.setAutoSave(!0)),UT.values.bind("change",function(){t.setDirty(!0)}),UT.sections.where({parent_id:0}).forEach(function(e){var s=new n({model:e});e.view=s;var a=s.render();if(t.$sectionsUl.append(a.el),t.router.route(e.get("slug"),function(){UT.sections.setActive(e)}),e.get("id")>0){var r=i("<ul/>");a.$el.append(r),UT.sections.where({parent_id:e.get("id")}).forEach(function(e){var i=new o({model:e});e.view=i;var n=i.render();r.append(n.el),t.router.route(e.get("slug"),function(){UT.sections.setActive(e)})})}}),t.initRoleSelector(),setTimeout(t.fixBottomBar,1),t.$window.scroll(t.fixBottomBar)},initRoleSelector:function(){var e=this,t=Backbone.$;e.$roleSelectorSelect=e.$panel.find(".ut_role_selection"),e.$roleSelectorSelect.empty(),UT.roles.forEach(function(i){e.$roleSelectorSelect.append(t("<option/>",{value:i.id,html:i.get("name")}))}),e.$roleSelectorSelect.on("change",function(){var i=t(this).val();e.loadRoleValues(i),e.storage.set("optionLastRole",i),UT.sections.forEach(function(e){e.view.setHidden(""!==i?"all_roles"!=e.get("visibility"):!1)});var n=UT.sections.where({isActive:!0}).shift();if(n&&n.get("isHidden")){var o=UT.sections.where({isHidden:!1}).shift();UT.app.router.navigate(o.get("slug"),!0)}})},loadRoleValues:function(e){var t=this;UT.currentRole=e,t.refreshPanel()},refreshPanel:function(){var e=UT.sections.where({isActive:!0}).shift();e&&_.each(e.view.fieldViews,function(e){var t=UT.values.getValue(e.model.id);t?e.setValue(t):e.reset()})},setIsSaving:function(e){var t=this;e?t.$saveButton.addClass("is_saving"):t.$saveButton.removeClass("is_saving")},autoSaveInputChange:function(){var e=this;e.setAutoSave(e.$panel.find(".wpas_autosave input").prop("checked"))},setAutoSave:function(e){{var t=this;Backbone.$}t.isAutoSave=e,e?UT.values.bind("change",t.saveDebounce,t):UT.values.unbind("change",t.saveDebounce),t.storage.set("optionAutoSave",e)},_returnDirtyMessage:function(){return"Settings is unsaved. Do you really want to close page?"},setDirty:function(e){var t=this,i=Backbone.$;e?i(window).bind("beforeunload",t._returnDirtyMessage):i(window).unbind("beforeunload",t._returnDirtyMessage)},reset:function(){if(confirm("Do you really want to reset this section settings?")){var e=UT.sections.where({isActive:!0}).shift();e&&_.each(e.view.fieldViews,function(e){UT.values.setValue(e.model.id,e.model.get("default"))}),this.refreshPanel(),toastr.warning("You need to save to apply resets!")}},resetAll:function(){confirm("Do you really want to reset all settings?")&&(UT.values=i.createFromJSON({},UT.roles),this.refreshPanel(),toastr.warning("You need to save to apply resets!"))},save:function(){var e=this,t={};e.$saveButton.hasClass("is_saving")||(e.lastXhr&&e.lastXhr.abort(),!e.lastXhr&&NProgress.start(),UT.values.each(function(e){t[e.id]=e.toJSON()}),e.setIsSaving(!0),!e.lastXhr&&NProgress.set(.4),e.lastXhr=Backbone.$.post(ajaxurl,{action:"ut_save",_wpnonce:UT.nonce,data:JSON.stringify(t)},function(t){e.setIsSaving(!1),e.setDirty(!1),UT.debug&&console.log(t),NProgress.done(),!e.isAutoSave&&toastr.info("Settings saved."),e.lastXhr=null},"json").error(function(t){e.setIsSaving(!1);var i=t.responseText;e.lastXhr=null,toastr.error("Error, Please try reload page and write to support@amino-studio.com, we will help you."),console.log(i)}))},fixBottomBar:function(){var e=this,t=e.$container[0].getBoundingClientRect();t.height+t.top>e.$window.height()?e.$bottomBar.css("width",t.width-200).addClass("fixed"):e.$bottomBar.css("width","").removeClass("fixed")},importExportTpl:_.template('<div class="ut_modal"><div class="ut_window_title"><h1><%= title %><a class="close"></a></h1><div class="ut_window_body"><%= html %></div></div></div>'),importExport:function(e){var t=this,n=Backbone.$;e.preventDefault(),e.stopPropagation();var o={};UT.values.each(function(e){o[e.id]=e.toJSON()});var s=n(t.importExportTpl({title:"Import/Export",html:'<div class="ut_window_section ut_window_import"><h3>Export</h3><div class="ut_section_body " style="padding: 0 20px;padding-bottom: 20px"><textarea onclick="jQuery(this).select()">'+JSON.stringify({values:o})+'</textarea></div></div><div class="ut_window_section ut_window_import"><h3>Import</h3><div class="ut_section_body" style="padding: 0 20px;padding-bottom: 20px"><textarea class="import_textarea"></textarea><a class="wpas_button import_button">Import Data</a></div></div></div>'}));s.find(".close").click(function(){s.remove()}),s.find(".import_button").click(function(){var e=s.find(".import_textarea").val();if(e){try{var o=n.parseJSON(e)}catch(a){return void alert("Parse error, please enter correct data.")}if(!o.values)return void alert("Invalid format, please enter correct data.");UT.values=i.createFromJSON(o.values,UT.roles),toastr.warning("You need to save to apply import!"),t.refreshPanel(),s.remove()}}),n("body").click(function(e){n(e.target).closest(".ut_modal").length||s.remove()}),t.$panel.append(s)},support:function(e){var t=this,i=Backbone.$;e.preventDefault(),e.stopPropagation();var n=i(t.importExportTpl({title:"Support",html:'<div class="ut_window_section ut_window_import"><h3>Support or Suggestion</h3><div class="ut_section_body " style="padding: 0 20px;padding-bottom: 20px">If you have any problem and/or suggestion, please, write us to <a href="mailto:support@amino-studio.com?subject=Ultimate Tweaker Support Message" target="_blank">support@amino-studio.com</a></div></div>'}));n.find(".close").click(function(){n.remove()}),i("body").click(function(e){i(e.target).closest(".ut_modal").length||n.remove()}),t.$panel.append(n)}})},{"./../collections/Values":5,"./Section":35,"./SubSection":36}],34:[function(e,t){var i=e("./../fields/Text"),n=e("./../fields/Switch"),o=e("./../fields/Checkbox"),s=e("./../fields/Textarea"),a=e("./../fields/Slider"),r=e("./../fields/Select"),l=e("./../fields/Radio"),c=e("./../fields/Media"),d=e("./../fields/Color"),u=e("./../fields/Dimensions"),p=e("./../fields/Spacing"),f=e("./../fields/InfoField"),h=e("./../fields/Info"),g=e("./../fields/Section"),m=e("./../fields/Raw"),v=e("./../fields/TranslateText"),w=e("./../fields/MetaboxHide");t.exports=Backbone.View.extend({tagName:"div",className:"wpas_field",grayBackground:0,tpl:_.template('<div class="wpas_field_title"><%= title %><% if (typeof(right_title) !== "undefined" && right_title) { %><div class="wpas_field_title_right"><%= right_title %></div><% } %></div><div class="wpas_field_container"><% if (typeof(desc) !== "undefined" && desc) { %><div class="wpas_field_desc"><%= desc %></div><% } %></div>'),events:{click:"select"},initialize:function(e){var t=this;t.initRequired(),t.$el.addClass(["wpas_field_"+e.model.get("type"),e.grayBackground?"wpas_field_gray_bg":"","wpas_field_key_"+e.model.id].join(" ")),t.listenTo(t.model,"change",t.render)},initRequired:function(){var e=this,t=e.model.get("required");t&&(e.checkRequired(),UT.values.on("change",function(){e.checkRequired()}))},checkRequired:function(){var e=this,t=e.model.get("required");if(t){var i=t[0],n=t[1],o=t[2],s=UT.values.getValue(i),a=!0;switch(n){case"=":default:a=s==o}a?e.isRendered&&e.$el.slideDown():e.isRendered?e.$el.slideUp():e.$el.hide()}},setValue:function(e){this.field.setValue(e)},reset:function(){this.setValue(this.model.get("default"))},render:function(){var e,t=this;if(t.isRendered);else{switch(t.isRendered=!0,t.$el.html(t.tpl(t.model.attributes)),t.$container=t.$el.find(".wpas_field_container"),this.model.get("type")){case"switch":e=n;break;case"slider":e=a;break;case"checkbox":e=o;break;case"textarea":e=s;break;case"radio":e=l;break;case"color":e=d;break;case"media":e=c;break;case"select":e=r;break;case"text":e=i;break;case"dimensions":e=u;break;case"spacing":e=p;break;case"info":e=h;break;case"info_field":e=f;break;case"section":e=g;break;case"raw":e=m;break;case"translate_text":e=v;break;case"metabox_hide":e=w;break;default:e=i,console.log(this.model.get("type"),this.model.attributes,UT.values.get(this.model.id))}if(e){var _=new e({model:t.model,fieldBody:t});_.on("change",UT.values.setValue,UT.values),_.render(),t.$container.prepend(_.el)}t.field=_}return this}})},{"./../fields/Checkbox":7,"./../fields/Color":8,"./../fields/Dimensions":9,"./../fields/Info":10,"./../fields/InfoField":11,"./../fields/Media":12,"./../fields/MetaboxHide":13,"./../fields/Radio":14,"./../fields/Raw":15,"./../fields/Section":16,"./../fields/Select":17,"./../fields/Slider":18,"./../fields/Spacing":19,"./../fields/Switch":20,"./../fields/Text":21,"./../fields/Textarea":22,"./../fields/TranslateText":23}],35:[function(e,t){t.exports=Backbone.View.extend({tagName:"li",className:"wpas_section",sectionTpl:_.template('<a href="#<%= slug %>"><% if (typeof(icon_type) !== "undefined" && icon_type == "image") { %><img class="icon" src="<%= icon %>" /><% } else { %><i class="<%= icon %>"></i><% } %><span><%= title %></span><% if (this.model.haveChilds()) { %><span class="collapse-icon"><i class="dashicons dashicons-arrow-right-alt2"></i></span><% } %></a>'),sectionBodyTpl:_.template('<div class="wpas_body_section"><div class="wpas_body_section_body"></div></div>'),events:{click:"select"},initialize:function(){var e=this;e.$el.prop("href","#"+e.model.get("slug")),e.$el.html(e.sectionTpl(e.model.attributes)),e.$childsUl=e.$el.find("> ul"),e.listenTo(e.model,"change:isActive",e.changeActive),e.listenTo(e.model,"change:showChilds",e.changeShowChilds),e.model.bind("activate",e.activatePage,e),e.model.bind("activateChild",e.activateChild,e)},changeActive:function(){Backbone.$;return this.$el.toggleClass("active",this.model.get("isActive")),this},render:function(){{var e=this;Backbone.$}return e.changeActive(),e.changeShowChilds(),this},setHidden:function(e){{var t=this;Backbone.$}e?(t.$el.slideUp(),t.model.set("isHidden",!0)):(t.$el.slideDown(),t.model.set("isHidden",!1))},changeShowChilds:function(){{var e=this;Backbone.$}return e.$el.toggleClass("child_active",e.model.get("showChilds")),e},activateChild:function(){{var e=this;Backbone.$}e.$el.addClass("child_active")},fieldViews:null,activatePage:function(){var e=this,t=Backbone.$,i=t(".wpas_body");e.fieldViews=[],i.empty(),i.append(t("<h1/>",{html:e.model.get("title")}));var n=document.createDocumentFragment();_.each(e.model.getTweaks().groupBy("group"),function(i,o){var s=document.createDocumentFragment(),a=1;_.each(i,function(t){a++,t&&t.getFields().each(function(t){var i=UT.values.getValue(t.id),n=t.getView({grayBackground:a%2});i?n.setValue(i):n.reset(),e.fieldViews.push(n),s.appendChild(n.el)})});var r=[];if(o){var l=UT.tweak_groups.get(o);l&&(o=l.get("title")),r.push(t("<h3/>",{html:o})[0])}r.push(t("<div/>",{"class":"wpas_body_section_body",html:s})),n.appendChild(t("<div/>",{"class":"wpas_body_section",html:r})[0])}),i.append(n)},select:function(){}})},{}],36:[function(e,t){var i=e("./Section");t.exports=i.extend({tagName:"li",className:"wpas_section",sectionTpl:_.template('<a href="#<%= slug %>"><% if (typeof(icon_type) !== "undefined" && icon_type == "image") { %><img class="icon" src="<%= icon %>" /><% } else { %><i class="<%= icon %>"></i><% } %><span><%= title %></span></a>'),sectionBodyTpl:_.template('<div class="wpas_body_section"><div class="wpas_body_section_body"></div></div>'),events:{click:"select"},initialize:function(){var e=this;e.$el.html(e.sectionTpl(e.model.attributes)),e.listenTo(e.model,"change",e.render),e.model.bind("activate",e.activatePage,e)},render:function(){return this.$el.toggleClass("active",this.model.get("isActive")),this}})},{"./Section":35}]},{},[6]);